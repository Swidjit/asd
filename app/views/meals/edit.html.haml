=form_for @meal, url: meal_path(@meal), :method => :patch do |f|
  =f.label :title
  =f.text_field :title
  =f.label :description
  =f.text_area :description
  =f.label :address
  =f.text_field :address
  =f.label :cost
  =f.text_field :cost
  =f.label :dine_in_count
  =f.text_field :dine_in_count
  =f.label :start_time
  =f.text_field :start_time, :class => "datetimepicker"
  =f.label :end_time
  =f.text_field :end_time, :class => "datetimepicker"
  =f.label :dietary
  =f.text_field :dietary_list, :data => {:pre => @meal.dietary_list.collect{|tag| {:id => tag, :name => tag}}}
  %label cuisines & styles

  =f.text_field :cuisine_list, :data => {:pre => @meal.cuisine_list.collect{|tag| {:id => tag, :name => tag}}}
  %label environmental
  =f.text_field :env_list, :data => {:pre => @meal.env_list.collect{|tag| {:id => tag, :name => tag}}}
  %label neighborhoods & towns
  =f.text_field :location_list, :data => {:pre => @meal.location_list.collect{|tag| {:id => tag, :name => tag}}}

  =f.submit "save meal"

:javascript
  $(document).on('ready page:load', function(){
    $("#meal_dietary_list").tokenInput(
      "#{autocomplete_dietary_search_meals_path}", {
        preventDuplicates:"true",
        minChars: 2,
        theme: "facebook",
        prePopulate: $("#meal_dietary_list").data("pre"),
        onAdd: function(item) {
          item.name = item.name.replace("'","");
        }
      }
    );
    $("#meal_cuisine_list").tokenInput(
      "#{autocomplete_dietary_search_meals_path}", {
        preventDuplicates:"true",
        theme: "facebook",
        prePopulate: $("#meal_cuisine_list").data("pre"),
      }
    );
    $("#meal_location_list").tokenInput(
      "#{autocomplete_dietary_search_meals_path}", {
        preventDuplicates:"true",
        theme: "facebook",
        prePopulate: $("#meal_location_list").data("pre"),
      }
    );
    $("#meal_env_list").tokenInput(
      "#{autocomplete_dietary_search_meals_path}", {
        preventDuplicates:"true",
        theme: "facebook",
        prePopulate: $("#meal_env_list").data("pre"),
      }
    );

  });